{"version":3,"file":"static/js/509.572b0202.chunk.js","mappings":"oQAOMA,EAAMC,EAAAA,GAAAA,IAAH,kGA2ET,GApEkBC,EAAAA,EAAAA,KAAS,WACvB,OAAoCC,EAAAA,EAAAA,KAA5BC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,UAChBC,EAAe,WACjBF,EAAaG,OACbC,QAAQC,IAAIL,EAAaM,OAkB7B,OAfAC,EAAAA,EAAAA,YAAU,WAQN,OANIN,EAAUO,YACVN,IAEAO,EAAAA,GAAAA,QAAgB,wCAGb,WAEHT,EAAaU,WAElB,KAIC,gBAAKC,GAAG,SACJC,MAAO,CACHC,OAAQ,IACRC,UAAU,GACRC,SAAU,OACVC,QAAS,SACXC,OAAQ,sCACRC,aAAc,GAPtB,UAUI,SAAC,IAAD,CAAgBC,WAAYnB,EAAaM,KACrCc,KAAMlB,EACNmB,SAAUrB,EAAasB,WAAatB,EAAaqB,QACjDE,WAAW,EAAMC,iBAAiB,SAHtC,UAKI,SAAC,KAAD,CACIC,WAAYzB,EAAaM,KACzBoB,WACI,SAAAC,GAAI,OAAI,UAAC,UAAD,YAEJ,0BACI,SAAC/B,EAAD,CAAKgC,IAAKD,EAAKE,WAAWC,IAAID,WAAWC,SAE7C,0BAEI,qDAASH,EAAKE,WAAWE,gBAE7B,0BACI,eAAGC,OAAO,SAASC,KAAMN,EAAKE,WAAWC,IAAID,WAAWC,IAAxD,2CAAoEH,EAAKE,WAAWC,IAAID,WAAWC,WAVnFH,EAAKhB,KAHrC,SAoBKX,EAAasB,WAAatB,EAAaqB,UACpC,0BACI,SAAC,IAAD,CAAMa,IAAI,kC,WCnElBrC,EAAAA,EAAAA,IAAOsC,EAAAA,EAAPtC,CAAH,mFAwBjB,MAjBA,WAMI,OACI,iCACA,sDAKA,SAACuC,EAAD","sources":["components/List.js","pages/History.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { useStores } from '../stores';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { List, message, Spin} from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nconst Img = styled.img`\r\nwidth:100px;\r\nheight:120px;\r\nobject-fit:contain;\r\nborder:1px solid #eee;\r\n`\r\n\r\nconst Component = observer(() => {\r\n    const { HistoryStore, UserStore } = useStores();\r\n    const loadMoreData = () => {\r\n        HistoryStore.find()\r\n        console.log(HistoryStore.list)\r\n\r\n    }\r\n    useEffect(() => {\r\n        // console.log('进入组件')\r\n        if (UserStore.currentUser) {\r\n            loadMoreData()\r\n        }else{\r\n            message.warning('请登录后操作')\r\n        }\r\n\r\n        return () => {\r\n            // console.log('卸载')\r\n            HistoryStore.reset()\r\n        }\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div id=\"scroll\"\r\n            style={{\r\n                height: 500,\r\n                marginTop:50,\r\n                  overflow: 'auto',\r\n                  padding: '0 16px',\r\n                border: '1px solid rgba(140, 140, 140, 0.35)',\r\n                borderRadius: 5,\r\n            }}\r\n        >\r\n            <InfiniteScroll dataLength={HistoryStore.list}\r\n                next={loadMoreData}\r\n                hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n                useWindow={true} scrollableTarget=\"scroll\"\r\n            >\r\n                <List\r\n                    dataSource={HistoryStore.list}\r\n                    renderItem={\r\n                        item => <List.Item key={item.id}>\r\n                           \r\n                            <div>\r\n                                <Img src={item.attributes.url.attributes.url}></Img>\r\n                            </div>\r\n                            <div>\r\n\r\n                                <h5>文件名：{item.attributes.filenname}</h5>\r\n                            </div>\r\n                            <div>\r\n                                <a target=\"_blank\" href={item.attributes.url.attributes.url} >图片地址：{item.attributes.url.attributes.url}</a>\r\n                            </div>\r\n                           \r\n                        </List.Item>\r\n\r\n                    }\r\n                >\r\n                    {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n                        <div>\r\n                            <Spin tip=\"加载中\" />\r\n                        </div>\r\n                    )}\r\n                </List>\r\n            </InfiniteScroll>\r\n        </div>\r\n    );\r\n})\r\nexport default Component;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport List from  '../components/List'\r\nimport styled from 'styled-components';\r\nimport {Button} from 'antd';\r\n// import { useStores } from '../stores';\r\n\r\nconst ButtonStyle = styled(Button)`\r\nmargin-right:30px;\r\ncursor:pointer;\r\ntop:0;\r\nfloat:right;\r\n`\r\n\r\nfunction History(){\r\n//     const {UserStore,HistoryStore} = useStores();\r\n//    const Delete = () => {\r\n//         HistoryStore.reset();\r\n    // }\r\n\r\n    return (\r\n        <>\r\n        <h1>历史记录</h1>\r\n         {/* {\r\n          UserStore.currentUser ? \r\n        <ButtonStyle  onClick={Delete} type=\"primary\">一键删除</ButtonStyle> :null\r\n         } */}\r\n        <List></List>\r\n        </>\r\n    );\r\n}\r\nexport default History;"],"names":["Img","styled","observer","useStores","HistoryStore","UserStore","loadMoreData","find","console","log","list","useEffect","currentUser","message","reset","id","style","height","marginTop","overflow","padding","border","borderRadius","dataLength","next","hasMore","isLoading","useWindow","scrollableTarget","dataSource","renderItem","item","src","attributes","url","filenname","target","href","tip","Button","List"],"sourceRoot":""}